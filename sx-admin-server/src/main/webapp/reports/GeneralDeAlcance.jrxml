<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="GeneralDeAlcance"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="612"
		 pageHeight="792"
		 columnWidth="554"
		 columnSpacing="0"
		 leftMargin="29"
		 rightMargin="29"
		 topMargin="20"
		 bottomMargin="20"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="FECHA_INI" isForPrompting="true" class="java.util.Date"/>
	<parameter name="FECHA_FIN" isForPrompting="true" class="java.util.Date"/>
	<parameter name="SUCURSAL" isForPrompting="true" class="java.lang.String"/>
	<parameter name="LINEA" isForPrompting="true" class="java.lang.String"/>
	<parameter name="MESES" isForPrompting="true" class="java.lang.Double"/>
	<parameter name="ORDEN" isForPrompting="true" class="java.lang.String"/>
	<parameter name="FORMA" isForPrompting="true" class="java.lang.String"/>
	<parameter name="FILTRO" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA[" LIKE '%'"]]></defaultValueExpression>
	</parameter>
	<parameter name="FILTRADO" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA["TODOS"]]></defaultValueExpression>
	</parameter>
	<parameter name="MESESF" isForPrompting="true" class="java.lang.Double">
		<defaultValueExpression ><![CDATA[$P{MESES}]]></defaultValueExpression>
	</parameter>
	<parameter name="DELINEA" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA[" "]]></defaultValueExpression>
	</parameter>
	<queryString><![CDATA[SELECT CASE WHEN $P{SUCURSAL}='%' THEN "TODAS" ELSE (SELECT S.NOMBRE FROM sucursal S WHERE S.activa IS TRUE AND S.ID LIKE $P{SUCURSAL} ) END AS SUCURSAL,L.LINEA,C.CLASE,M.MARCA,P.CLAVE,P.DESCRIPCION,P.KILOS
,SUM(EXI) AS EXIST,(CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE SUM(VTA)  END)  AS VTA,ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166 AS MESES_PRDO
,(CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END) AS PROM_VTA
,IFNULL(IFNULL(SUM(EXI),0)/IFNULL((CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END),0),0) AS ALC_TOT
,SUM(PEND) AS PED_PEND  ,SUM(EXI)*P.KILOS/1000 AS EX_TON,(CASE WHEN SUM(VTA)=0 AND P.UNIDAD='MIL' THEN 0.100 WHEN SUM(VTA)=0 AND P.UNIDAD<>'MIL' THEN 1 ELSE  (SUM(VTA)/(ROUND((ROUND(TO_DAYS($P{FECHA_FIN})-TO_DAYS($P{FECHA_INI}),0)),0)/30.4166)) END)*P.KILOS/1000 AS PROMVTA_TON
FROM (
SELECT X.PRODUCTO_ID,X.CLAVE,SUM(X.CANTIDAD/(case when p.unidad ='MIL' then 1000 else 1 end)) AS EXI,0 AS VTA,0 AS PEND FROM EXISTENCIA X JOIN producto p ON(X.producto_id=p.ID) WHERE X.anio=YEAR($P{FECHA_FIN}) AND  X.MES=MONTH($P{FECHA_FIN}) AND   x.sucursal_id LIKE $P{SUCURSAL} GROUP BY X.CLAVE,X.PRODUCTO_ID
UNION
SELECT X.PRODUCTO_ID,P.CLAVE,0,SUM((X.CANTIDAD*-1)/(case when p.unidad ='MIL' then 1000 else 1 end)) AS VTA,0 AS PEND FROM INVENTARIO X JOIN producto p ON(X.producto_id=p.ID) WHERE DATE(X.FECHA) BETWEEN $P{FECHA_INI} AND $P{FECHA_FIN} AND X.TIPO IN('FAC','DEV') AND   X.sucursal_id LIKE $P{SUCURSAL} GROUP BY P.CLAVE,X.PRODUCTO_ID
UNION
SELECT X.PRODUCTO_ID,P.CLAVE,0,0,SUM(((X.SOLICITADO-X.DEPURADO)/(case when P.unidad ='MIL' then 1000 else 1 end))-IFNULL((SELECT SUM(I.CANTIDAD/(case when Y.unidad ='MIL' then 1000 else 1 end)) FROM recepcion_de_compra_det I JOIN producto Y ON(I.producto_id=Y.ID) WHERE I.compra_det_id=X.ID AND I.inventario_id IS NOT NULL),0)) AS PENDTE
from compra_det X JOIN producto P ON(X.producto_id=P.ID) WHERE X.SUCURSAL_ID LIKE $P{SUCURSAL} GROUP BY X.PRODUCTO_ID
) AS A
JOIN producto P ON(A.PRODUCTO_ID=P.ID)
join LINEA L on(L.ID=p.LINEA_ID)
JOIN CLASE C ON(C.ID=P.CLASE_ID)
JOIN marca M ON(M.ID=P.MARCA_ID)
WHERE P.ACTIVO IS TRUE AND P.INVENTARIABLE IS TRUE AND L.LINEA LIKE $P{LINEA} $P!{DELINEA}
GROUP BY P.CLAVE,P.ID 
ORDER BY LINEA,CLASE, $P!{ORDEN} $P!{FORMA}]]></queryString>

	<field name="SUCURSAL" class="java.lang.String"/>
	<field name="LINEA" class="java.lang.String"/>
	<field name="CLASE" class="java.lang.String"/>
	<field name="MARCA" class="java.lang.String"/>
	<field name="CLAVE" class="java.lang.String"/>
	<field name="DESCRIPCION" class="java.lang.String"/>
	<field name="KILOS" class="java.math.BigDecimal"/>
	<field name="EXIST" class="java.math.BigDecimal"/>
	<field name="VTA" class="java.math.BigDecimal"/>
	<field name="MESES_PRDO" class="java.math.BigDecimal"/>
	<field name="PROM_VTA" class="java.math.BigDecimal"/>
	<field name="ALC_TOT" class="java.math.BigDecimal"/>
	<field name="PED_PEND" class="java.math.BigDecimal"/>
	<field name="EX_TON" class="java.math.BigDecimal"/>
	<field name="PROMVTA_TON" class="java.math.BigDecimal"/>

	<variable name="ALC_TOT_PED" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[new Double(($F{EXIST}.doubleValue()+$F{PED_PEND}.doubleValue())/$F{PROM_VTA}.doubleValue())]]></variableExpression>
	</variable>
	<variable name="PEDIDO" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[new Double(($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-($F{EXIST}.doubleValue()+$F{PED_PEND}.doubleValue()))]]></variableExpression>
	</variable>
	<variable name="EX_TON_CLASE" class="java.math.BigDecimal" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$F{EX_TON}]]></variableExpression>
	</variable>
	<variable name="EX_TON_LINEA" class="java.math.BigDecimal" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$F{EX_TON}]]></variableExpression>
	</variable>
	<variable name="PVTA_TON_LINEA" class="java.math.BigDecimal" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$F{PROMVTA_TON}]]></variableExpression>
	</variable>
	<variable name="PVTA_TON_CLASE" class="java.math.BigDecimal" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$F{PROMVTA_TON}]]></variableExpression>
	</variable>
	<variable name="PEDIDO_TON" class="java.lang.Double" resetType="Report" calculation="Nothing">
		<variableExpression><![CDATA[(((($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-
($F{EXIST}.doubleValue()+
$F{PED_PEND}.doubleValue()))*$F{KILOS}.doubleValue())/1000)<=0 ?
new Double(0) :
new Double(((($F{PROM_VTA}.doubleValue()*$P{MESES}.doubleValue())-
($F{EXIST}.doubleValue()+
$F{PED_PEND}.doubleValue()))*$F{KILOS}.doubleValue())/1000)]]></variableExpression>
	</variable>
	<variable name="PED_TON_LINEA" class="java.lang.Double" resetType="Group" resetGroup="LINEA" calculation="Sum">
		<variableExpression><![CDATA[$V{PEDIDO_TON}]]></variableExpression>
	</variable>
	<variable name="PED_TON_CLASE" class="java.lang.Double" resetType="Group" resetGroup="CLASE" calculation="Sum">
		<variableExpression><![CDATA[$V{PEDIDO_TON}]]></variableExpression>
	</variable>
	<filterExpression><![CDATA[new Boolean(
$P{FILTRADO}.equals( "ALCANCE MENOR" ) ?
$F{ALC_TOT}.doubleValue()<=$P{MESESF}.doubleValue() 
:
$P{FILTRADO}.equals( "ALCANCE MAYOR" ) ?
$F{ALC_TOT}.doubleValue()>$P{MESESF}.doubleValue()
:
true
)]]></filterExpression>

		<group  name="LINEA" >
			<groupExpression><![CDATA[$F{LINEA}]]></groupExpression>
			<groupHeader>
			<band height="13"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="37"
						y="0"
						width="148"
						height="13"
						key="textField-11"/>
					<box></box>
					<textElement textAlignment="Left">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="10" isBold="true" isUnderline="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{LINEA}]]></textFieldExpression>
				</textField>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="16"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="78"
						y="0"
						width="130"
						height="11"
						key="textField-14"/>
					<box></box>
					<textElement verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{LINEA}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="12"
						y="0"
						width="65"
						height="11"
						key="staticText-29"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[LINEA : ]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="249"
						y="0"
						width="62"
						height="11"
						key="textField-17"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{EX_TON_LINEA}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="311"
						y="0"
						width="49"
						height="11"
						key="textField-21"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{PVTA_TON_LINEA}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="494"
						y="0"
						width="46"
						height="11"
						key="textField-24"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{PED_TON_LINEA}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="208"
						y="0"
						width="41"
						height="11"
						key="staticText-41"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Toneladas ]]></text>
				</staticText>
			</band>
			</groupFooter>
		</group>
		<group  name="CLASE" >
			<groupExpression><![CDATA[$F{CLASE}]]></groupExpression>
			<groupHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
			</groupHeader>
			<groupFooter>
			<band height="15"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="78"
						y="0"
						width="130"
						height="11"
						key="textField-12"/>
					<box></box>
					<textElement verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{CLASE}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="12"
						y="0"
						width="65"
						height="11"
						key="staticText-28"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[CLASE : ]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="208"
						y="0"
						width="41"
						height="11"
						key="staticText-37"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Toneladas ]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="249"
						y="0"
						width="62"
						height="11"
						key="textField-16"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{EX_TON_CLASE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="311"
						y="0"
						width="49"
						height="11"
						key="textField-20"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$V{PVTA_TON_CLASE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="494"
						y="0"
						width="46"
						height="11"
						key="textField-23"/>
					<box></box>
					<textElement textAlignment="Right" verticalAlignment="Top">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{PED_TON_CLASE}]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="2"  isSplitAllowed="true" >
			</band>
		</title>
		<pageHeader>
			<band height="46"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="3"
						y="20"
						width="95"
						height="13"
						key="staticText-10"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[MESES PARA ALCANCE : ]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="371"
						y="33"
						width="63"
						height="13"
						key="staticText-11"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[PERIODO :  DEL]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="378"
						y="0"
						width="173"
						height="14"
						key="staticText-15"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<text><![CDATA[PAPEL S.A. DE C.V.]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="dd-MMM-yy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="434"
						y="33"
						width="51"
						height="13"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[$P{FECHA_INI}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="dd-MMM-yy" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="500"
						y="33"
						width="51"
						height="13"
						key="textField-8"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[$P{FECHA_FIN}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="485"
						y="33"
						width="15"
						height="13"
						key="staticText-23"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="8"/>
					</textElement>
				<text><![CDATA[AL]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="302"
						y="14"
						width="249"
						height="14"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{SUCURSAL}.equals( "%" ) ? 
new String ("GENERAL DE ALCANCE (TODAS)") :
new String ("GENERAL DE ALCANCE (").concat($F{SUCURSAL}).concat(")")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="98"
						y="20"
						width="34"
						height="13"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$P{MESES}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="150"
						y="20"
						width="75"
						height="12"
						forecolor="#000000"
						backcolor="#FFFFFF"
						key="staticText-39"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica-Oblique" size="8" isBold="false" isItalic="true" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<text><![CDATA[ORDENADO POR : ]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="225"
						y="20"
						width="124"
						height="12"
						key="textField-25"/>
					<box></box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($P{ORDEN}.equals(new String("5"))? "CLAVE  " :
$P{ORDEN}.equals(new String("11")) ? "PROMEDIO VTA  " :
$P{ORDEN}.equals(new String("12")) ? "ALCANCE INVENT.  " :
"").concat($P{FORMA})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="98"
						y="33"
						width="139"
						height="12"
						key="textField-26"/>
					<box></box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{FILTRADO}.equals( "TODOS" ) ? $P{FILTRADO} :
new String($P{FILTRADO}.concat(new String(" A ")).concat($P{MESESF}.toString())
.concat(" MESES"))]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="3"
						y="33"
						width="95"
						height="12"
						forecolor="#000000"
						backcolor="#FFFFFF"
						key="staticText-40"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica-Oblique" size="8" isBold="false" isItalic="true" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<text><![CDATA[FILTRADO POR : ]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="243"
						y="33"
						width="35"
						height="12"
						forecolor="#000000"
						backcolor="#FFFFFF"
						key="staticText-42"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica-Oblique" size="8" isBold="false" isItalic="true" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<text><![CDATA[TIPO : ]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="278"
						y="33"
						width="77"
						height="12"
						key="textField-27"/>
					<box></box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($P{DELINEA}.equals(new String("AND DELINEA IS TRUE"))? "DE LINEA" :
$P{DELINEA}.equals(new String("AND DELINEA IS FALSE")) ? "ESPECIALES" :
"TODOS")]]></textFieldExpression>
				</textField>
			</band>
		</pageHeader>
		<columnHeader>
			<band height="31"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						x="12"
						y="16"
						width="73"
						height="11"
						key="staticText-5"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[CLAVE]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="85"
						y="16"
						width="164"
						height="11"
						key="staticText-6"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[DESCRIPCION]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="249"
						y="16"
						width="62"
						height="11"
						key="staticText-7"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[INVENTARIO]]></text>
				</staticText>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="29"
						width="554"
						height="0"
						key="line-2"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<staticText>
					<reportElement
						x="311"
						y="16"
						width="49"
						height="11"
						key="staticText-19"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[VENTA]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="360"
						y="16"
						width="36"
						height="11"
						key="staticText-20"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[INV.]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="396"
						y="16"
						width="56"
						height="11"
						key="staticText-22"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PENDIENTES]]></text>
				</staticText>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="2"
						width="554"
						height="0"
						key="line-6"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<staticText>
					<reportElement
						x="452"
						y="16"
						width="42"
						height="11"
						key="staticText-24"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[INV+PED]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="494"
						y="16"
						width="46"
						height="11"
						key="staticText-25"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PEDIDO]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="12"
						y="5"
						width="237"
						height="11"
						key="staticText-26"/>
					<box></box>
					<textElement textAlignment="Center">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PRODUCTO]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="311"
						y="5"
						width="49"
						height="11"
						key="staticText-31"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PROMEDIO]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="360"
						y="5"
						width="36"
						height="11"
						key="staticText-32"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[ALC.]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="396"
						y="5"
						width="56"
						height="11"
						key="staticText-33"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[PEDIDOS]]></text>
				</staticText>
				<staticText>
					<reportElement
						x="452"
						y="5"
						width="42"
						height="11"
						key="staticText-34"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[ALC.]]></text>
				</staticText>
			</band>
		</columnHeader>
		<detail>
			<band height="11"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="12"
						y="0"
						width="73"
						height="11"
						key="textField"/>
					<box></box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{CLAVE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="85"
						y="0"
						width="164"
						height="11"
						key="textField"/>
					<box></box>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{DESCRIPCION}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="249"
						y="0"
						width="62"
						height="11"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{EXIST}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="311"
						y="0"
						width="49"
						height="11"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{PROM_VTA}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="360"
						y="0"
						width="36"
						height="11"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{ALC_TOT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.000" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="396"
						y="0"
						width="56"
						height="11"
						key="textField"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.math.BigDecimal"><![CDATA[$F{PED_PEND}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0.0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="452"
						y="0"
						width="42"
						height="11"
						key="textField-9"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$F{EXIST}.longValue()<=0 ? new Double(0) : $V{ALC_TOT_PED}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="#,##0" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="494"
						y="0"
						width="46"
						height="11"
						key="textField-10"/>
					<box></box>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.Double"><![CDATA[$V{PEDIDO}.longValue()<=0 ? new Double(0) : $V{PEDIDO}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="16"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="235"
						y="3"
						width="48"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-5"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["P치gina " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="355"
						y="3"
						width="76"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="staticText-18"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<text><![CDATA[Fecha de impresi칩n:]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="431"
						y="3"
						width="83"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-6"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Times-Roman" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="CP1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="284"
						y="3"
						width="31"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-7"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="CP1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<line direction="TopDown">
					<reportElement
						x="15"
						y="3"
						width="498"
						height="0"
						forecolor="#CCCCCC"
						key="line-5"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
			</band>
		</pageFooter>
		<lastPageFooter>
			<band height="17"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="235"
						y="4"
						width="48"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-2"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["P치gina " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="355"
						y="4"
						width="76"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="staticText-17"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="Cp1252" isStrikeThrough="false" />
					</textElement>
				<text><![CDATA[Fecha de impresi칩n:]]></text>
				</staticText>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="431"
						y="4"
						width="83"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-3"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Times-Roman" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="CP1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" pattern="" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="284"
						y="4"
						width="31"
						height="11"
						forecolor="#999999"
						backcolor="#FFFFFF"
						key="textField-4"/>
					<box>					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
						<font fontName="Arial" pdfFontName="Helvetica" size="8" isBold="false" isItalic="false" isUnderline="false" isPdfEmbedded ="false" pdfEncoding ="CP1252" isStrikeThrough="false" />
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="0"
						width="513"
						height="4"
						forecolor="#CCCCCC"
						key="line-3"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<line direction="TopDown">
					<reportElement
						mode="Opaque"
						x="513"
						y="-2"
						width="0"
						height="19"
						forecolor="#CCCCCC"
						backcolor="#FFFFFF"
						key="line-4"/>
					<graphicElement stretchType="NoStretch" fill="Solid" />
				</line>
			</band>
		</lastPageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
